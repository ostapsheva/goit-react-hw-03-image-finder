{"version":3,"sources":["components/Modal/Modal.module.css","components/App.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/Searchbar.module.css","components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Modal/Modal.js","components/App.js","index.js","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","query","handleSubmit","evt","preventDefault","props","onSubmit","setState","handleChange","target","value","name","className","styles","SearchForm","this","type","SearchFormButton","SearchFormButtonLabel","SearchFormInput","autoComplete","autoFocus","placeholder","onChange","Component","ImageGalleryItem","src","srcOriginal","id","alt","getLargeImageURL","data-source","data-id","ImageGalleryItemImage","onClick","dataset","source","ImageGallery","images","onImageClick","map","el","key","webformatURL","largeImageURL","tags","Button","modalRoot","document","querySelector","Modal","closeModal","event","currentTarget","toggleModal","closeModalOnEscape","e","code","window","addEventListener","removeEventListener","createPortal","Overlay","API_KEY","App","isLoading","page","error","showModal","fetchPictures","axios","get","then","res","data","hits","prevState","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","handleQuery","currentPage","largeImgURL","url","prevProps","spinnerAndBtnContainer","color","height","width","timeout","length","ReactDOM","render","getElementById"],"mappings":"gIACAA,EAAOC,QAAU,CAAC,QAAU,uBAAuB,MAAQ,uB,mBCA3DD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,uBAAyB,sC,mBCAlED,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,sDCA3BD,EAAOC,QAAU,CAAC,UAAY,6BAA6B,WAAa,8BAA8B,iBAAmB,oCAAoC,sBAAwB,yCAAyC,gBAAkB,qC,6KCyCjOC,E,4MAtCbC,MAAQ,CACNC,MAAO,I,EAGTC,aAAe,SAAAC,GACbA,EAAIC,iBACJ,EAAKC,MAAMC,SAAS,EAAKN,MAAMC,OAC/B,EAAKM,SAAS,CAAEN,MAAO,M,EAGzBO,aAAe,YAAkC,IAAD,IAA9BC,OAAUC,EAAoB,EAApBA,MAAOC,EAAa,EAAbA,KACjC,EAAKJ,SAAL,eAAiBI,EAAOD,K,uDAIxB,OACE,4BAAQE,UAAWC,IAAOd,WACxB,0BAAMa,UAAWC,IAAOC,WAAYR,SAAUS,KAAKb,cACjD,4BAAQc,KAAK,SAASJ,UAAWC,IAAOI,kBACtC,0BAAML,UAAWC,IAAOK,uBAAxB,WAGF,2BACEN,UAAWC,IAAOM,gBAClBH,KAAK,OACLI,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZX,KAAK,QACLD,MAAOK,KAAKf,MAAMC,MAClBsB,SAAUR,KAAKP,qB,GA/BHgB,a,gBC0BTC,MAzBf,YAA4E,IAAhDC,EAA+C,EAA/CA,IAAKC,EAA0C,EAA1CA,YAAaC,EAA6B,EAA7BA,GAAIC,EAAyB,EAAzBA,IAAKC,EAAoB,EAApBA,iBAGrD,OACE,wBAAIlB,UAAWC,IAAOY,kBACpB,yBACEC,IAAKA,EACLG,IAAKA,EACLE,cAAaJ,EACbK,UAASJ,EACThB,UAAWC,IAAOoB,sBAClBC,QAVc,SAAA/B,GAAG,OAAI2B,EAAiB3B,EAAIM,OAAO0B,QAAQC,a,iBCsBlDC,MAtBf,YAAiD,IAAzBC,EAAwB,EAAxBA,OAAQC,EAAgB,EAAhBA,aAC9B,OACE,wBAAI3B,UAAWC,IAAOwB,cACnBC,EAAOE,KAAI,SAAAC,GAAE,OACZ,kBAAC,EAAD,CACEC,IAAKD,EAAGb,GACRF,IAAKe,EAAGE,aACRhB,YAAac,EAAGG,cAChBhB,GAAIa,EAAGb,GACPC,IAAKY,EAAGI,KACRf,iBAAkBS,S,iBCCbO,MAZf,YAA8B,IAAZZ,EAAW,EAAXA,QAChB,OACE,4BAAQtB,UAAWC,IAAOiC,OAAQZ,QAASA,GAA3C,c,iBCDEa,EAAYC,SAASC,cAAc,eAuC1BC,E,4MA7BbC,WAAa,SAAAC,GACPA,EAAMC,gBAAkBD,EAAM3C,QAChC,EAAKJ,MAAMiD,e,EAIfC,mBAAqB,SAAAC,GACJ,WAAXA,EAAEC,MACJ,EAAKpD,MAAMiD,e,kEAdbI,OAAOC,iBAAiB,UAAW5C,KAAKwC,sB,6CAGxCG,OAAOE,oBAAoB,UAAW7C,KAAKwC,sB,+BAgB3C,OAAOM,uBACL,yBAAKjD,UAAWC,IAAOiD,QAAS5B,QAASnB,KAAKoC,YAC5C,yBAAKvC,UAAWC,IAAOqC,OACrB,yBAAKxB,IAAKX,KAAKV,MAAMiC,OAAQT,IAAI,OAGrCkB,O,GA3BcvB,a,kCCGduC,G,MAAO,sCAsFEC,E,4MAnFbhE,MAAQ,CACNC,MAAO,GACPgE,WAAW,EACX3B,OAAQ,GACR4B,KAAM,EACNC,MAAO,KACPC,WAAW,EACXxB,cAAe,I,EASjByB,cAAgB,WAAO,IAAD,EACI,EAAKrE,MAArBC,EADY,EACZA,MAAOiE,EADK,EACLA,KACf,EAAK3D,SAAS,CAAE0D,WAAW,IAE3BK,IACGC,IADH,qCAEkCtE,EAFlC,iBAEgDiE,EAFhD,gBAE4DH,EAF5D,yDAIGS,MAAK,SAAAC,GAAG,OAAIA,EAAIC,KAAKC,QACrBH,MAAK,SAAAlC,GAAM,OACV,EAAK/B,UAAS,SAAAqE,GAAS,MAAK,CAC1BtC,OAAO,GAAD,mBAAMsC,EAAUtC,QAAhB,YAA2BA,IACjC4B,KAAMU,EAAUV,KAAO,SAG1BW,OAAM,SAAAV,GAAK,OAAI,EAAK5D,SAAS,CAAE4D,aAC/BW,SAAQ,WACP,EAAKvE,SAAS,CAAE0D,WAAW,IAC3BP,OAAOqB,SAAS,CACdC,IAAKhC,SAASiC,gBAAgBC,aAC9BC,SAAU,e,EAKlBC,YAAc,SAAA5B,GACZ,EAAKjD,SAAS,CAAEN,MAAOuD,EAAG6B,YAAa,EAAG/C,OAAQ,M,EAGpDgD,YAAc,SAAAC,GACZ,EAAKhF,SAAS,CAAEqC,cAAe2C,IAC/B,EAAKjC,e,EAGPA,YAAc,WACZ,EAAK/C,SAAS,CAAE6D,WAAY,EAAKpE,MAAMoE,a,iEAzCtBoB,EAAWZ,GACxBA,EAAU3E,QAAUc,KAAKf,MAAMC,OACjCc,KAAKsD,kB,+BA0CC,IAAD,EACiDtD,KAAKf,MAArDiE,EADD,EACCA,UAAW3B,EADZ,EACYA,OAAQ8B,EADpB,EACoBA,UAAWxB,EAD/B,EAC+BA,cAEtC,OACE,yBAAKhC,UAAWC,IAAOmD,KACrB,kBAAC,EAAD,CAAW1D,SAAUS,KAAKqE,cAC1B,kBAAC,EAAD,CAAc9C,OAAQA,EAAQC,aAAcxB,KAAKuE,cAChDlB,GACC,kBAAC,EAAD,CAAO9B,OAAQM,EAAeU,YAAavC,KAAKuC,cAElD,yBAAK1C,UAAWC,IAAO4E,wBACpBxB,GACC,kBAAC,IAAD,CACEjD,KAAK,YACL0E,MAAM,UACNC,OAAQ,GACRC,MAAO,GACPC,QAAS,MAGZvD,EAAOwD,OAAS,IAAM7B,GACrB,kBAAC,EAAD,CAAQ/B,QAASnB,KAAKsD,sB,GA5EhB7C,a,YCNlBuE,IAASC,OAAO,kBAAC,EAAD,MAAShD,SAASiD,eAAe,U,kBCLjDpG,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,sBAAwB,mD","file":"static/js/main.a84029a6.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__2AxMb\",\"Modal\":\"Modal_Modal__2WBTT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"App\":\"App_App__2s_Fq\",\"spinnerAndBtnContainer\":\"App_spinnerAndBtnContainer__E54jp\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__DncjJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__3R1xi\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__DjWH3\",\"SearchForm\":\"Searchbar_SearchForm__1ac2l\",\"SearchFormButton\":\"Searchbar_SearchFormButton__21S85\",\"SearchFormButtonLabel\":\"Searchbar_SearchFormButtonLabel__8f9cn\",\"SearchFormInput\":\"Searchbar_SearchFormInput__VhsfU\"};","import React, { Component } from 'react';\nimport styles from './Searchbar.module.css';\n\nclass Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleSubmit = evt => {\n    evt.preventDefault();\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n\n  handleChange = ({ target: { value, name } }) => {\n    this.setState({ [name]: value });\n  };\n\n  render() {\n    return (\n      <header className={styles.Searchbar}>\n        <form className={styles.SearchForm} onSubmit={this.handleSubmit}>\n          <button type=\"submit\" className={styles.SearchFormButton}>\n            <span className={styles.SearchFormButtonLabel}>Search</span>\n          </button>\n\n          <input\n            className={styles.SearchFormInput}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            name=\"query\"\n            value={this.state.query}\n            onChange={this.handleChange}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n\nexport default Searchbar;\n","import React from 'react';\nimport styles from './ImageGalleryItem.module.css';\nimport PropTypes from 'prop-types';\n\nfunction ImageGalleryItem({ src, srcOriginal, id, alt, getLargeImageURL }) {\n  const handleClick = evt => getLargeImageURL(evt.target.dataset.source);\n\n  return (\n    <li className={styles.ImageGalleryItem}>\n      <img\n        src={src}\n        alt={alt}\n        data-source={srcOriginal}\n        data-id={id}\n        className={styles.ImageGalleryItemImage}\n        onClick={handleClick}\n      />\n    </li>\n  );\n}\n\nImageGalleryItem.propTypes = {\n  src: PropTypes.string.isRequired,\n  srcOriginal: PropTypes.string.isRequired,\n  id: PropTypes.number,\n  alt: PropTypes.string,\n  getLargeImageURL: PropTypes.func.isRequired,\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport styles from './ImageGallery.module.css';\n\nfunction ImageGallery({ images, onImageClick }) {\n  return (\n    <ul className={styles.ImageGallery}>\n      {images.map(el => (\n        <ImageGalleryItem\n          key={el.id}\n          src={el.webformatURL}\n          srcOriginal={el.largeImageURL}\n          id={el.id}\n          alt={el.tags}\n          getLargeImageURL={onImageClick}\n        ></ImageGalleryItem>\n      ))}\n    </ul>\n  );\n}\n\nImageGallery.propTypes = {\n  images: PropTypes.array.isRequired,\n  onImageClick: PropTypes.func.isRequired,\n};\n\nexport default ImageGallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './Button.module.css';\n\nfunction Button({ onClick }) {\n  return (\n    <button className={styles.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n}\n\nButton.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default Button;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport styles from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeModalOnEscape);\n  }\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeModalOnEscape);\n  }\n\n  closeModal = event => {\n    if (event.currentTarget === event.target) {\n      this.props.toggleModal();\n    }\n  };\n\n  closeModalOnEscape = e => {\n    if (e.code === 'Escape') {\n      this.props.toggleModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={styles.Overlay} onClick={this.closeModal}>\n        <div className={styles.Modal}>\n          <img src={this.props.images} alt=\"\" />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.propTypes = {\n  toggleModal: PropTypes.func.isRequired,\n  images: PropTypes.string.isRequired,\n};\n\nexport default Modal;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport Searchbar from './Searchbar/Searchbar';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport Button from './Button/Button';\nimport Modal from './Modal/Modal';\nimport styles from './App.module.css';\nimport Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nconst API_KEY = `17974776-5c72563f75cc468bf0b4b15b3`;\n\nclass App extends Component {\n  state = {\n    query: '',\n    isLoading: false,\n    images: [],\n    page: 1,\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.query !== this.state.query) {\n      this.fetchPictures();\n    }\n  }\n\n  fetchPictures = () => {\n    const { query, page } = this.state;\n    this.setState({ isLoading: true });\n\n    axios\n      .get(\n        `https://pixabay.com/api/?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\n      )\n      .then(res => res.data.hits)\n      .then(images =>\n        this.setState(prevState => ({\n          images: [...prevState.images, ...images],\n          page: prevState.page + 1,\n        })),\n      )\n      .catch(error => this.setState({ error }))\n      .finally(() => {\n        this.setState({ isLoading: false });\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      });\n  };\n\n  handleQuery = e => {\n    this.setState({ query: e, currentPage: 1, images: [] });\n  };\n\n  largeImgURL = url => {\n    this.setState({ largeImageURL: url });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState({ showModal: !this.state.showModal });\n  };\n\n  render() {\n    const { isLoading, images, showModal, largeImageURL } = this.state;\n\n    return (\n      <div className={styles.App}>\n        <Searchbar onSubmit={this.handleQuery} />\n        <ImageGallery images={images} onImageClick={this.largeImgURL} />\n        {showModal && (\n          <Modal images={largeImageURL} toggleModal={this.toggleModal}></Modal>\n        )}\n        <div className={styles.spinnerAndBtnContainer}>\n          {isLoading && (\n            <Loader\n              type=\"ThreeDots\"\n              color=\"#303f9f\"\n              height={60}\n              width={60}\n              timeout={3000}\n            />\n          )}\n          {images.length > 0 && !isLoading && (\n            <Button onClick={this.fetchPictures} />\n          )}\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\nimport 'modern-normalize/modern-normalize.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3CvRl\",\"ImageGalleryItemImage\":\"ImageGalleryItem_ImageGalleryItemImage__2bkPr\"};"],"sourceRoot":""}